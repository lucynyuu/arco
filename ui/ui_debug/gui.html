<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        @font-face {
            font-family: 'JetBrains Mono';
            src: url('path/to/JetBrainsMono-Regular.woff2') format('woff2'),
                url('path/to/JetBrainsMono-Regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        .slidecontainer {
            width: 100%;
        }

        :root {
            --slider-fill-color: #fe73ff;
            --slider-track-color: #28282800;
            --slider-border-color: white;
            --slider-thumb-color: white;
            --slider-height: 10px;
            --slider-border-width: 2px;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: var(--slider-height);
            /* Initial track styling */
            background: var(--slider-track-color);
            border-color: var(--slider-border-color);
            border-style: solid;
            border-radius: 15px;
            border-width: var(--slider-border-width);
            outline: none;
            opacity: 1;
            transition: opacity .2s;
            cursor: pointer;
            width: 50%;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--slider-thumb-color);
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--slider-thumb-color);
            cursor: pointer;
            border: none;
        }

        .slider::-moz-range-track {
            background: transparent;
            border: none;
        }

        .slider::-ms-track {
            background: transparent;
            border: none;
            color: transparent;
        }

        .dot-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #ccc;
            margin: 0 5px;
            opacity: 0.5;
        }

        @keyframes pulse-color {
            0% {
                background-color: #ccc;
                opacity: 0.5;
            }
            50% {
                background-color: #7fffff;
                opacity: 1;
            }
            100% {
                background-color: #ccc;
                opacity: 0.5;
            }
        }
    </style>
</head>

<body style='font-family:"JetBrains Mono", monospace; color:white; background-color:#282828; '>
    <h1 style='text-align: center; margin: -5px;' id="title"><span style='color:#7fffff'>Ar</span>co</h1>
    <a for="title" style="color: #fe73ff; position: fixed; top: 23px; right: 15px;">by Nyuu</a>
    <hr style="height: 2px; background-color: white; border: none; margin: 5px;">
    <div class="slidecontainer" style="position: fixed; top: 40px; left: 15px">
        <p style="position: absolute; top: 12px; left: 2px;">Arpeggiator Speed</p>
        <input style="position: absolute; top: 55px;" type="range" min="0" max="1" value="0.5" step="0.01" class="slider" id="myRange">
        <img style="position: absolute; top: 76px; left: 2px; filter: invert(100%); width: 20px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFElEQVR4nO2aW4hNURjHfzITNUKTXBJKTHjgxWUeMKbMg9LwNAoPkzIlJcatSHJJbpFckgc1zYtSLvE0aVzK0BSlSVHGiTQOM4wMZ3I7tOrbddr2WWfvc/bae0+tX31vc9b3/b/zrfWtb50Bi8VisVgsFovFEifTgSagBegEPgIZ4BfwCXgB3AAOAIuB4QxByoFG4CHwN6CphBwHpjJEWAe8KUKo21QFnAcqSSgTgbYQhLqtD6gnYVQDaQNiHcsCx4BhJIA64JtBsbl2Oe5DrTpCsY5diHPPpiMW69gpoB24DyyKSnBbTGLd1q1pjZuBR0A/8FUStKYYsWsTINSxLx7xzQC6NJ+5BVT4FVseUp8N6/Te4opvHtDr47N3gTI/ghsTIFTZd2C9K7Y5clPzu8ZBP4I7EiD2GTDbFddMoCfgOhlgQqFBIBtzCZ8FRrriqgLeFbnmbp3gphjFPgeWesQ0q4hvNtfu6QS3xCD0M7BDDks89uz7Etfv0QnujFDoIHBCMy3VyTxdqp8fOsEfIuqrR4FJeWJQrWQf8Dskf2md4IxBoa+AncBojf+5wOOQ/V7XCQ4rq46pBLYCywqMfpNlUvpjING1Xg5rgFRIDgaAq/IyMkaXXfm2D8klI+i+3AuMB5o1rXR/Pse6e6nflqL650qPHkqeVnNOLvxBfb0G5rvWWwjclvVUwu8AK3QBBBGsFnwAnJbJRHuTcR1G9TKFZUtIbL7DLhA1kjlHUEqumDeBi8AuYJXceIK8SKi/XQ5ckrerUqroKTCOBDIWWC2JCnLR11mHrJsIRslJeFhaStgnfbv4iIUKYAGwSdpIlwGBbttuWlAVsARoALbKo5o69d4aFpbPVNUY41pMonSmTvRppgSXAUekscctNLKyRspajYo/EyDWeFnnUmtYiLpSvoy7rHPZY2hPPpGhv1Ie/PuSUNZIYLog1M8wJ4Er8iDeLcEPys+hvTIWql56BtgATOF/GpJS1v0FgtgYoq9WH09BxtmWZ6JJyeUjTEbIfwZ4vboMyBawWCwWi8VisVgsRM8/YeqerRyQs5YAAAAASUVORK5CYII=" alt="turtle">
        <img style="position: absolute; top: 78px; left: 285px; filter: invert(100%); width: 18px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD+0lEQVR4nO2Za4hVVRTHf2o55SsdqTDfk1mUTGEEijaSKcgoxUh+EMMSZDQoHEJwAukFIYoPGkQtQfzQiC9wUFN6YeMTFfzQh2YMJRJiMB9Z6czUOHNlw//A6TL3nL3v2efeGfAPC+69e+2z7//stdZea224j//hYeAr4HegBTgGrAKeoJfhbSDTjXQAB4EKegnKgbYcZAL5GnieXoCXgF9iyHQCnwMD6OF4EFgGXIwhdAl4mR6CGcC3QDPwPVAHvA48BPQFKoFvgK4I/6mmB6Alxx/8G9gZ8odnge1Aew79z4A+xSLRF2iNMR8j3wHTNGe0CHaGxhuAVygyNlgQyci09gFPat4UmeRcfR8mEzsEXNYL+gv4Wb8tBwanSaQ/8KUlmYxM62OgRPONOb0H3LCYew1YkrYJGtM5LOe1IWSCwyxgh8NLyEj2KJikisf0hs9ERCof0qiUqCAYA9SIVBpkDgD9KDCmyWl971ItRcILQD1w1xORdmASRcRVzyZWNNx0+KN1wDPA5hzjXT53ZYDS+NnAAqAKeBV4EZgIlOnz49K/4EBkiOYMidD5JGmKMl8n9L+OzrnNgUi15iyP0DmVLwmTfp/Pw55NpWgw2XHenZjxX/NJSb5I4Jjm5B+rZ9V7dPhmFxKPAic9LGrMCiWBP3kissOWxEDgnKdFu7Ky3h8TPq8FGGdLpMGjGWSU7Zr6Pgga7wLXHZ9xF9itGscKizyTCOQfYF5onRJFwTrgOHAFuCVdU5v8JqvYqnR+FA4Y6PkU7k52FaKJ907KJMLR7AiwUnVKuQ7RUkVKs1uDkhDxFVV8yMZ8SYxNuPBHwBvAYuADnRu5ui42MsN3L9dWjFlko49Mp9HxWadJgHUJiZjW6V5FmQ/V8gk3HVZktYWizp3pSYjsS8HOb+mqIWge1FrM2UtCHE3Rcc8o9Tc7cyJGd2G+BCYAm4DbKRIxskbrVcbovZYPiRqH2iKp/Ak8IDP7z2eDYX6BCITF7D4xdypHXImcLSKRyxE6t3W6WyOuCvMtf8i0Blm0WitciCQ5dV2lS1k1ikpx+p+6EMlVwk5Vp9AXiQ4FlQBmV8YDbykTbkt6so/QHXn4AU2hMV9E9gNvKnd6uhv7Hw5syWqvduiFGtJWGKcr5M6s+roqRTNrUy9gra7oArzfje4d5WlLbbvxpaoJHtH39QX0nfrQ1fXhCN0mWYoTTheISCDGX1G3MkrP1OxOSDtdyZabFm3SwCxN88IaPxSYSLvW7WehG5i/dbV4zLJ+SCqtwGqt+1yE3lVVnnlhsM6UWYpkc4CZ6rRPVsOgTMSDz09pPJDpmh+WCo0Z/XA4NqE4mGeuDsz4SGBovgR6Be4B6ePwkgIqcPUAAAAASUVORK5CYII=" alt="rabbit">
        <p style="color: #00000000;">Value: <span id="demo">0.5</span></p>
        <!--input type="checkbox" id="arp_reverse">
        <label for="arp_reverse">Arp Direction</label-->
    </div>
    <div class="dot-container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
    <script>
        var slider = document.getElementById("myRange");
        var output = document.getElementById("demo");

        function applySliderFill() {
            const min = parseFloat(slider.min);
            const max = parseFloat(slider.max);
            const value = parseFloat(slider.value);
            const percent = ((value - min) / (max - min)) * 100;
            slider.style.backgroundImage = `linear-gradient(to right, var(--slider-fill-color) 0%, var(--slider-fill-color) ${percent}%, var(--slider-track-color) ${percent}%, var(--slider-track-color) 100%)`;
        }
        
        output.innerHTML = slider.value;
        applySliderFill();

        slider.oninput = function() {
            output.innerHTML = this.value;
            applySliderFill();
            window.webkit.messageHandlers.arpSpeedChanged.postMessage(Number(this.value));
        }

        const dots = document.querySelectorAll('.dot');
        const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff']; // Array of pulse colors

        function startPulsing() {
            let i = 0;
            function pulseDot() {
                dots[i].style.animation = `pulse-color 1s ease-in-out forwards`; // Apply animation

                // Reset animation after it completes to allow re-triggering
                dots[i].addEventListener('animationend', () => {
                dots[i].style.animation = 'none';
                // Force reflow to ensure animation can be re-triggered
                dots[i].offsetHeight; 
                }, { once: true }); 

                i = (i + 1) % dots.length; // Move to the next dot, looping back to the start
            }

            setInterval(pulseDot, 500); // Trigger a pulse every 500ms
        }

        startPulsing();
    </script>
    
</body>
</html>